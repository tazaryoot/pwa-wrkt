(this["webpackJsonppwa-wrkt"]=this["webpackJsonppwa-wrkt"]||[]).push([[0],{28:function(e,t,a){e.exports=a(50)},33:function(e,t,a){},34:function(e,t,a){},39:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),l=a(27),i=a(1),s=a(7),u=(a(33),a(34),function(){return r.a.createElement("header",{className:"wrkt-header"},r.a.createElement(s.c,{exact:!0,activeClassName:"active-nav-link",to:"/"},"Goal List"),r.a.createElement(s.c,{activeClassName:"active-nav-link",to:"/goal"},"Goal"))}),d=(a(39),function(){return r.a.createElement("footer",null,"Footer")}),m=function(e){var t=e.children;return r.a.createElement("div",{className:"layout"},r.a.createElement(u,null),r.a.createElement("main",null,t),r.a.createElement(d,null))};m.defaultProps={children:null};var p=m,f=function(){var e=Object(i.f)().code;return r.a.createElement("section",null,e)},E=a(16),b=a.n(E),h=a(24),v=Object(n.createContext)({}),L=a(6),g={isLoaded:!1,isLoading:!1,goalList:[],error:""},O=Object(n.createContext)({}),w=function(e,t){switch(t.type){case"FETCH_GOAL_LIST":return Object(L.a)(Object(L.a)({},e),{},{isLoading:!0,isLoaded:!1,error:""});case"FETCH_GOAL_LIST_SUCCESS":return Object(L.a)(Object(L.a)({},e),{},{goalList:t.payload,isLoading:!1,isLoaded:!0});case"ADD_GOAL":return Object(L.a)(Object(L.a)({},e),t.payload);case"FETCH_GOAL_LIST_ERROR":return Object(L.a)(Object(L.a)({},e),{},{isLoading:!1,isLoaded:!1,error:t.error});default:return Object(L.a)({},e)}},j=function(){var e=Object(n.useContext)(O),t=e.state,a=e.dispatch,c=Object(n.useContext)(v);return Object(n.useEffect)((function(){Object(h.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoaded){e.next=15;break}return a({type:"FETCH_GOAL_LIST"}),e.prev=2,e.next=5,c.getGoals();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=[];case 8:n=e.t0,a({type:"FETCH_GOAL_LIST_SUCCESS",payload:n}),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(2),a({type:"FETCH_GOAL_LIST_ERROR",error:e.t1.toString()});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))()}),[]),t.isLoaded?r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"unstyled-list"},!!t.goalList.length&&t.goalList.map((function(e){var t=e.code,a=e.title;return r.a.createElement("li",{key:t},r.a.createElement(s.b,{to:"/goal/".concat(t)},a))})),!t.goalList.length&&r.a.createElement("div",null,"Goal list is empty")),r.a.createElement(s.b,{to:"/add-goal"},"Add goal")):null},k=a(25),C=a(26),_=a(10),y=(a(44),{apiKey:"AIzaSyAnK_lvAMC6u2jjEOZQvlCKoSSo_l1C8UY",authDomain:"pwa-wrkt.firebaseapp.com",databaseURL:"https://pwa-wrkt.firebaseio.com",projectId:"pwa-wrkt",storageBucket:"pwa-wrkt.appspot.com",messagingSenderId:"148975232824",appId:"1:148975232824:web:b2d30cb1142557c1f983cd",measurementId:"G-N3MWRZL4M7"}),S=function(){function e(){Object(k.a)(this,e),this.db=void 0,this.collectionName="goals",_.apps.length?_.app():_.initializeApp(y),this.db=_.firestore()}return Object(C.a)(e,[{key:"getGoals",value:function(){return this.db.collection(this.collectionName).orderBy("date","asc").get().then((function(e){if(e.empty)return null;var t=[];return e.forEach((function(e){t.push(e.data())})),t.map((function(e){var t=e.code,a=e.date,n=e.desc,r=e.title;return{date:a.toDate().toLocaleDateString(),code:t,title:r,desc:n}}))}))}}]),e}(),x=function(){var e=Object(n.useReducer)(w,g),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement(s.a,null,r.a.createElement(v.Provider,{value:new S},r.a.createElement(O.Provider,{value:{state:a,dispatch:c}},r.a.createElement(p,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:j}),r.a.createElement(i.a,{exact:!0,path:"/goal/:code",component:f}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(49);o.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.5de8d99d.chunk.js.map