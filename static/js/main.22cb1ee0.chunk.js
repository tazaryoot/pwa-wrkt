(this["webpackJsonppwa-wrkt"]=this["webpackJsonppwa-wrkt"]||[]).push([[0],{28:function(e,t,a){e.exports=a(50)},33:function(e,t,a){},34:function(e,t,a){},39:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(22),c=a.n(r),i=a(27),l=a(1),_=a(7),E=(a(33),a(34),function(){return o.a.createElement("header",{className:"wrkt-header"},o.a.createElement(_.c,{exact:!0,activeClassName:"active-nav-link",to:"/"},"Goal List"),o.a.createElement(_.c,{activeClassName:"active-nav-link",to:"/goal"},"Goal"))}),d=(a(39),function(){return o.a.createElement("footer",null,"Footer")}),O=function(e){var t=e.children;return o.a.createElement("div",{className:"layout"},o.a.createElement(E,null),o.a.createElement("main",null,t),o.a.createElement(d,null))};O.defaultProps={children:null};var u=O,s=function(){var e=Object(l.f)().code;return o.a.createElement("section",null,e)},S=a(16),T=a.n(S),C=a(24),p=Object(n.createContext)({}),v=a(6),L={isLoaded:!1,isLoading:!1,goalList:[],error:""},P=Object(n.createContext)({}),m=function(e,t){switch(t.type){case"FETCH_GOAL_LIST":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0,isLoaded:!1,error:""});case"FETCH_GOAL_LIST_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{goalList:t.payload,isLoading:!1,isLoaded:!0});case"ADD_GOAL":return Object(v.a)(Object(v.a)({},e),t.payload);case"FETCH_GOAL_LIST_ERROR":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,isLoaded:!1,error:t.error});default:return Object(v.a)({},e)}},A=function(){var e=Object(n.useContext)(P),t=e.state,a=e.dispatch,r=Object(n.useContext)(p);return Object(n.useEffect)((function(){Object(C.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoaded){e.next=15;break}return a({type:"FETCH_GOAL_LIST"}),e.prev=2,e.next=5,r.getGoals();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=[];case 8:n=e.t0,a({type:"FETCH_GOAL_LIST_SUCCESS",payload:n}),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(2),a({type:"FETCH_GOAL_LIST_ERROR",error:e.t1.toString()});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))()}),[]),t.isLoaded?o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:"unstyled-list"},!!t.goalList.length&&t.goalList.map((function(e){var t=e.code,a=e.title;return o.a.createElement("li",{key:t},o.a.createElement(_.b,{to:"/goal/".concat(t)},a))})),!t.goalList.length&&o.a.createElement("div",null,"Goal list is empty")),o.a.createElement(_.b,{to:"/add-goal"},"Add goal")):null},D=a(25),b=a(26),R=a(10),f=(a(44),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/pwa-wrkt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/pwa-wrkt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/pwa-wrkt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DATABASE_URL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/pwa-wrkt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/pwa-wrkt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/pwa-wrkt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/pwa-wrkt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APP_ID,measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"/pwa-wrkt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MEASUREMENT_ID}),w=function(){function e(){Object(D.a)(this,e),this.db=void 0,R.apps.length?R.app():R.initializeApp(f),this.db=R.firestore()}return Object(b.a)(e,[{key:"getGoals",value:function(){return this.db.collection("goals").get().then((function(e){if(e.empty)return null;var t=[];return e.forEach((function(e){t.push(e.data())})),t}))}}]),e}(),h=function(){var e=Object(n.useReducer)(m,L),t=Object(i.a)(e,2),a=t[0],r=t[1];return o.a.createElement(_.a,null,o.a.createElement(p.Provider,{value:new w},o.a.createElement(P.Provider,{value:{state:a,dispatch:r}},o.a.createElement(u,null,o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/",component:A}),o.a.createElement(l.a,{exact:!0,path:"/goal/:code",component:s}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(49);c.a.render(o.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.22cb1ee0.chunk.js.map